syntax = "proto3";
package bzd.users.auth;

service AuthService {
    rpc Join(JoinRequest) returns (JoinResponse);
    rpc Complete(CompleteRequest) returns (CompleteResponse);
}

message JoinRequest {
    optional int64 phone_number = 101;
}

message JoinResponse {
    optional bool is_new = 101;

    optional Verification verification = 501;

    message Verification {
        optional string verification_id = 101;
    }
}

message CompleteRequest {
    optional string verification_id = 101;
    optional string code = 102;
}

message CompleteResponse {
    optional string jwt = 101;
}
